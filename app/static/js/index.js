function messages() {
    const close = document.querySelector('#close');
    const message = document.querySelector('.message');
    
    close.addEventListener('click', () => {
        message.style.display = 'none';
    })
}

messages()

function process() {
    const process = document.querySelector('#process');
    const loading = document.querySelector('#loading');
    
    process.addEventListener('click', () => {
        loading.style.display = 'flex';
        fetch('/classify', {
            method: 'POST',
        }).then((res) => res.json()
        ).then((data) => {
            const result = document.querySelector('#result');
            const resultData = result.querySelector('#result-data')

            loading.style.display = 'none';
            result.style.display = 'block';

            resultData.querySelector('#data').innerHTML = `
                <td>${data.accuracy}</td>
                <td>${data.recall}</td>
                <td>${data.precision}</td>
                <td>${data.f1score}</td>
            `
        })
    })
}
process()

function visualize() {
    const visualizeData = document.querySelector('#visualize-data');
    const visualize = document.querySelector('#visualize');
    let visualizeChart = document.querySelector('#visualize-chart');

    const charts = ['plot.png', 'monitoring.png', 'loss.png', 'time_series.png'];
    visualizeData.addEventListener('click', () => {
        visualize.style.display = 'block';
        
        for(let i = 0; i < charts.length; i++) {
            visualizeChart.innerHTML += `<img src="/static/images/${charts[i]}" alt="">`
        }
    })
}

visualize()