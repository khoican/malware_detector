<!DOCTYPE html>
<html lang="en">
{% include "components/head.html" %}
<body>

    {% if message %}
        {% if message == 'File uploaded successfully' %}
        <div class="message message-success">
            <p>{{ message }}</p>

            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="close"><path d="M13.41,12l6.3-6.29a1,1,0,1,0-1.42-1.42L12,10.59,5.71,4.29A1,1,0,0,0,4.29,5.71L10.59,12l-6.3,6.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L12,13.41l6.29,6.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42Z"></path></svg>
        </div>

        {% else %}
        <div class="message message-danger">
            <p>{{ message }}</p>

            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="close"><path d="M13.41,12l6.3-6.29a1,1,0,1,0-1.42-1.42L12,10.59,5.71,4.29A1,1,0,0,0,4.29,5.71L10.59,12l-6.3,6.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L12,13.41l6.29,6.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42Z"></path></svg>
        </div>
        {% endif %}
    {% endif %}


    <div class="container">
        <div class="box">
            <div class="title">
                <h1 class="fw-bold text-primary">Malware Classifier</h1>
                <p class="subtitle">Upload your dataset for know the type of malware</p>
            </div>
    
            <div>
                <form action="/upload-dataset" method="POST" class="form" enctype="multipart/form-data">
                    <div class="form-control">
                        <label for="formFile" class="form-label">Upload your dataset here</label>
                        <input class="form-file" type="file" id="formFile" name="file">
                        <p>Please makesure your extension is .csv or .xlxs</p>
                    </div>

                    <button type="submit">Upload</button>
                </form>
            </div>
        </div>

        {% if df %}
        <div class="box">
            <div class="result">
                <h3>Dataset</h3>

                <button id="process" type="submit">Process</button>
            </div>

            <div class="table-responsive">
                {{ df | safe }}
            </div>
        </div>
        
        <div class="box" id="result">
            <div class="result">
                <h3>Result</h3>
                <button id="visualize-data">Visualize</button>
            </div>

            <table class="dataset" id="result-data">
                <tr>
                    <th>Accuracy</th>
                    <th>Recall</th>
                    <th>Precision</th>
                    <th>F1-Score</th>
                </tr>
                <tr id="data"></tr>
            </table>
        </div>

        <div class="box visualize" id="visualize">
            <h3>Visualize</h3>

            <div id="visualize-chart"></div>
        </div>
        {% endif %}

        <div class="loading" id="loading">
            <img src="{{ url_for('static', filename='images/loading.gif') }}" alt="">
            <p>Runing Process ...</p>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/bootstrap.js') }}"></script>
    <script src="{{ url_for('static', filename='js/index.js') }}"></script>
</body>
</html>
